<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.2 (460914)"/><meta name="author" content="522864637@qq.com"/><meta name="created" content="2018-07-18 09:51:59 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="source-url" content="file:///E:/1000phone/gp02/H5+C3%E8%AF%BE%E7%A8%8B/day01HTML5%E4%B8%8ECSS3%E5%9F%BA%E7%A1%80/3%E8%83%8C%E6%99%AF%E7%9B%B8%E5%85%B3/%E6%B8%90%E5%8F%98%E8%89%B2.html"/><meta name="updated" content="2018-07-25 11:21:31 +0000"/><title>一、canvas</title></head><body><div>一、canvas</div><div>&nbsp;&nbsp;&nbsp;&nbsp; 就是用来绘制图像的 </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;canvas id="canvas" width = "500" height="500"&gt;您的浏览器暂不支持canvas使用&lt;/canvas&gt;</div><div><br/></div><div>//获取DOM节点</div><div>var canvas = document.getElementById("canvas");</div><div>//获取上下文对象</div><div>var ctx = canvas.getContext("2d");</div><div><br/></div><div>//填充样式及其填充 ----- css中写的背景颜色</div><div>ctx.fillStyle = "#f66";</div><div>ctx.fill()</div><div>//边框样式及其绘制边框 ----&nbsp;&nbsp;css中的边框样式</div><div>ctx.strokeStyle = "#f66"</div><div>ctx.stroke()</div></div><div><br/></div><div>二、绘制图像</div><div>&nbsp;&nbsp;&nbsp;&nbsp; 1、绘制矩形 </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.rect(x,y,w,h)&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;从x,y的位置其，绘制了一个宽为w,高为h的矩形 </div><div>ctx.fill()&nbsp;&nbsp;&nbsp;&nbsp;ctx.stroke() </div><div><br/></div><div>//确定区域并填充或者绘制边框</div><div>ctx.fillRect(x,y,w,h)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.strokeRect(x,y,w,h) </div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/01%E7%9F%A9%E5%BD%A2.html">01矩形.html</a></div><div>&nbsp;&nbsp;&nbsp;&nbsp; 2、绘制圆弧 </div><div><br/></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="%E4%B8%80%E3%80%81canvas.resources/693CD535-9A93-490F-BA17-18B7AC761F07.png" height="422" width="593"/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.arc(x,y,r,startAngle,endAngle,boolean) boolean可以省略，默认值为false&nbsp;&nbsp;&nbsp;&nbsp; </div><div>boolean为true&nbsp;&nbsp; 逆时针&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为false&nbsp;&nbsp; 顺时针 </div><div><br/></div><div>注意：如果多次绘制，会将上一次的终止点和下一次的起始点相连，如果要避免这种情况，也就是我们希望每一次的绘制都不相互影响，那么接着往下看下一个内容</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/02%E5%9C%86%E5%BC%A7.html">02圆弧.html</a></div><div><img src="file:///E:/1000phone/gp02/H5+C3%E8%AF%BE%E7%A8%8B/day04%E4%BD%BF%E7%94%A8Canvas/IMG/%E5%9B%AD.png"/> <img src="file:///E:/1000phone/gp02/H5+C3%E8%AF%BE%E7%A8%8B/day04%E4%BD%BF%E7%94%A8Canvas/IMG/%E5%9B%AD.png"/>3、开始路径与结束路径</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.beginPath()</div><div>ctx.closePath()</div><div><br/></div><div>为了避免绘制图像时上下影响，最好设置开始和结束路径</div></div><div><br/></div><div>4、绘制线段</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.moveTo(x,y)&nbsp;&nbsp;&nbsp;&nbsp;//重新开始绘制线段的起始点&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;&nbsp; 使用beginPath（）也可以 </div><div>ctx.lineTo(x,y )&nbsp;&nbsp;&nbsp;&nbsp; //连线 </div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>补充</div><div>ctx.lineWidth = 10</div><div>线条属性lineCap：&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp; ctx.lineCap = 'butt';ctx.lineCap = 'round';ctx.lineCap = 'square' </div></div><div><img src="%E4%B8%80%E3%80%81canvas.resources/36FB8ED0-DE3D-4AB8-85DB-38A064B33E81.png" height="518" width="731"/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>补充</div><div>线条属性lineJoin：&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp; ctx.lineJoin = 'miter';ctx .lineJoin = 'bevel';ctx .lineJoin = 'round'; </div><div>&nbsp;&nbsp;&nbsp;&nbsp; 尖尖的&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 平平的 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 圆圆的 </div></div><div><img src="%E4%B8%80%E3%80%81canvas.resources/59B38D6F-8B60-4175-B9B5-3DA1F858E973.png" height="193" width="197"/><img src="%E4%B8%80%E3%80%81canvas.resources/7920C381-55BE-43E8-9D36-CD226C89D432.png" height="365" width="378"/><img src="%E4%B8%80%E3%80%81canvas.resources/3DC08DC7-64B2-4B5E-A47E-1D0AD286A555.png" height="330" width="371"/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>线段画五角星</div><div><br/></div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/03%E7%BA%BF%E6%AE%B5.html">03线段.html</a></div><div>5、橡皮檫----清除矩形区域</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.clearRect(x,y,w,h)</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/04%E6%A9%A1%E7%9A%AE%E6%93%A6.html">04橡皮擦.html</a></div><div><br/></div><div><br/></div><div>6、贝塞尔曲线</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&nbsp;&nbsp;ctx.bezierCurveTo（startX,startY,controlX,controlY,endX,endY）//绘制曲线</div><div>ctx.quadraticCurveTo(controlX,controlY,endX,endY )//二次绘制曲线 ，将把<font color="#FF0000">上一个</font>点作为它的其实点，结合控制点和结束点绘制曲线</div><div>如果使用二次曲线，没有上一个点，那么将绘制的是直线</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/05%E6%9B%B2%E7%BA%BF.html">05曲线.html</a></div><div>7、渐变色&nbsp;&nbsp; ---&nbsp;&nbsp;也是一个颜色，可以设置ctx.fillStyle，也可以设置ctx.strokeStyle</div><div>&nbsp;&nbsp;&nbsp;&nbsp; 回顾css的渐变 </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>//1、线性渐变</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background: -webkit-gradient(linear,0 0,0 50%,from(#f00),to(#0000FF)); </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background: -moz-gradient(linear,0 0,0 100%,from(#f00),to(#0000FF)); </div><div>background: -webkit-linear-gradient(top,red,white,blue);</div><div>//多色渐变</div><div>background:-webkit-gradient(linear,0% 0%,100% 100%,color-stop(0.1,rgb(255,0,0)),color-stop(0.5,rgb(255,255,0)),color-stop(1,rgb(0,0,255)));</div><div>//2.径向渐变</div><div>background: -moz-radial-gradient(50% 50%,black,white,blue);</div></div><div><br/></div><div>&nbsp;&nbsp;&nbsp;&nbsp; 7.1&nbsp;&nbsp;线性渐变 </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>var lg = ctx.createLinearGradient(0,0,100,100)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0,"#f00");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.2,"#0f0");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.4,"#00f");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.6,"#ff00ee");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.8,"#00ffaa");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(1,"#fff");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillStyle = lg</div></div><div>&nbsp;&nbsp;<a href="%E4%B8%80%E3%80%81canvas.resources/07%E7%BA%BF%E6%80%A7%E6%B8%90%E5%8F%98.html">07线性渐变.html</a></div><div>&nbsp;&nbsp;&nbsp;&nbsp; 7.2&nbsp;&nbsp;径向渐变</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>//&nbsp;&nbsp; var rg = ctx.createRadialGradient(250,250,30,250,250,250)//同心圆</div><div>var rg = ctx.createRadialGradient(50,50,30,250,250,150)//非同心圆</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(0,"#f00");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(0.2,"#0f0");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(0.4,"#00f");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(0.6,"#ff00ee");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(0.8,"#00ffaa");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rg.addColorStop(1,"#fff");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillStyle = rg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillRect(0,0,500,500)</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/06%E5%BE%84%E5%90%91%E6%B8%90%E5%8F%98.html">06径向渐变.html</a></div><div>8、绘制文本&nbsp;&nbsp;&nbsp;&nbsp;---&nbsp;&nbsp; 图形验证码 </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.font="<span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">italic</span> 30px&nbsp;&nbsp; 微软雅黑";//顺序不能改&nbsp;&nbsp; font-style -size -family</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.textBaseline = "top"</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.fillText("0123",15,0)&nbsp;&nbsp;</div></div><div>图形验证码</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>var lg = ctx.createLinearGradient(0,0,100,36)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0,"#f00");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.2,"#0f0");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.4,"#00f");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.6,"#ff00ee");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(0.8,"#00ffaa");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lg.addColorStop(1,"#fff");</div><div>//&nbsp;&nbsp; ctx.fillStyle = lg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.strokeStyle = lg</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.font=" 30px italic 微软雅黑";//顺序不能改&nbsp;&nbsp; font-style -size -family</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.textBaseline = "top"</div><div>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.fillText("0123",15,0)&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.strokeText("0123",15,0)&nbsp;&nbsp;</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/08%E7%BB%98%E5%88%B6%E6%96%87%E6%9C%AC.html">08绘制文本.html</a></div><div>9.阴影效果</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.shadowOffsetX = 5;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.shadowOffsetY = 5;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.shadowBlur = 5;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.shadowColor = "#f66"</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillRect(100,100,200,200)</div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/09%E9%98%B4%E5%BD%B1.html">09阴影.html</a></div><div><br/></div><div>10.动画</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>核心思想就是定时器</div><div><br/></div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/10%E4%B8%80%E9%97%AA%E4%B8%80%E9%97%AA.html">10一闪一闪.html</a></div><div><br/></div><div><br/></div><div>11.保存和恢复状态</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>ctx.fillStyle = "#f66";</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.save()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillStyle = "#0f0";</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.save()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillStyle = "#00f";</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.save()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillStyle = "#000";</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.save()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.restore();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.restore();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.save() // 蓝色</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.restore();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.restore();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.restore();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillRect(100,100,100,100)</div></div><div><br/></div><div><img src="%E4%B8%80%E3%80%81canvas.resources/63E00E0D-73A8-4694-9A25-F4A9A7A5EA6C.png" height="166" width="706"/></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/11%E4%BF%9D%E5%AD%98%E5%92%8C%E6%81%A2%E5%A4%8D%E7%8A%B6%E6%80%81.html">11保存和恢复状态.html</a></div><div><br/></div><div>12.元素的转换</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>平移&nbsp;&nbsp;</div><div>ctx.translate(200,200)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.fillRect(100,100,50,50)&nbsp;&nbsp; //&nbsp;&nbsp; ctx.fillRect(300,300,50,50)</div><div>旋转</div><div>ctx.fillRect(100,0,50,50)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.rotate(Math.PI/6)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillRect(100,0,50,50)</div><div style="min-height: 21pt;"><br/></div><div>缩放</div><div>ctx.fillRect(100,100,100,100)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.scale(0.5,3)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctx.fillRect(100,100,100,100) // ctx.fillRect(50,300,50,300)</div><div style="min-height: 21pt;"/></div><div><br/></div><div>案例（动画结合保存状态加上元素的转换（translate，rotate，scale））</div><div><a href="%E4%B8%80%E3%80%81canvas.resources/%E6%97%B6%E9%92%9F.html">时钟.html</a></div><div><br/></div><div>13.图像组合</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">在绘制完成第一个图形之后，加</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; context.globalCompositeOperation=type</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; 再接着绘制第二个图形</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; type：</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; source-over（默认值）:在原有图形上绘制新图形</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; destination-over:在原有图形下绘制新图形</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; source-in:显示原有图形和新图形的交集，新图形在上，所以颜色为新图形的颜色</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; destination-in:显示原有图形和新图形的交集，原有图形在上，所以颜色为原有图形的颜色</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; source-out:只显示新图形非交集部分</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; destination-out:只显示原有图形非交集部分,是将交集的部分转化为透明</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;---------&nbsp;&nbsp;刮刮乐</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; source-atop:显示原有图形和交集部分，新图形在上，所以交集部分的颜色为新图形的颜色</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; destination-atop:显示新图形和交集部分，新图形在下，所以交集部分的颜色为原有图形的颜色</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; lighter:原有图形和新图形都显示，交集部分做颜色叠加</span><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; xor:重叠部分不显示</span></div><div><span style="color: rgb(0, 0, 0); font-family: Simsun; font-size: medium; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238);">&nbsp;&nbsp;&nbsp;&nbsp; copy:只显示新图形</span></div></div><div><a href="%E4%B8%80%E3%80%81canvas.resources/%E5%88%AE%E5%88%AE%E5%8D%A1.html">刮刮卡.html</a></div><div><br/></div><div>14绘制图像</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>var image = new Image();</div><div>image.src = "url地址"</div><div>image.onload = function(){</div><div>&nbsp;&nbsp;&nbsp;&nbsp; ctx.drawImage(image,x,y)&nbsp;&nbsp;&nbsp;&nbsp; //放在哪个位置 </div><div>&nbsp;&nbsp;&nbsp;&nbsp; ctx.drawImage(image,x,y,w,h)&nbsp;&nbsp; //放在哪个位置，放多大 </div><div>&nbsp;&nbsp;&nbsp;&nbsp; ctx.drawImage(image,flipx,flipy,flipw,fliph,cx,cy,cw,ch)&nbsp;&nbsp; //先从原先的途中位置截取，截取多大，放在canva中的位置，放多大 </div><div>}</div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div>显示当前的城市</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;script type="text/javascript" src="<a href="http://api.map.baidu.com/api?v=2.0&amp;ak=AOUf9QvXB9BYD0qjc9oLdpdGk817GPNu">http://api.map.baidu.com/api?v=2.0&amp;ak=AOUf9QvXB9BYD0qjc9oLdpdGk817GPNu</a>"&gt;&lt;/script&gt;</div><div><br/></div><div>var geolocation = new BMap.Geolocation();</div><div>&nbsp;&nbsp; geolocation.getCurrentPosition(function(r){</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(this.getStatus() == BMAP_STATUS_SUCCESS){</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log(r)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert('您的位置：'+r.address.city);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert('failed'+this.getStatus());</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp; },{enableHighAccuracy: true})</div></div><div><br/></div><div><br/></div></body></html>